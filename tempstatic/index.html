<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="jquery.js"></script>
	<script>
		$(function(){
			$("#content").wrapInner("<table cellspacing='30'><tr>");
			$(".box").wrap("<td>");
		});
	</script>
</head>
<body>
	<div id="content">
		<div class="box">
		<h2>third post</h2>
		<h3>sosc, nime, digifab</h3>
		<img class="image" src="images/1.jpg">
		</hr>
		</div>

		<div class="box">
		<h2>second post</h2>
		<h3>sosc, doe</h3>
		<img class="image" src="images/2.jpg">
		</hr>
		</div>

		<div class="box">
		<h2>welcome ghost</h2>
		<h3>Getting Started</h3>
		<img class="image" src="images/3.png">
		</hr>
		</div>

		<div class="box">
		<h2>fourth post</h2>
		<h3>new interface for musical expression, homemade hardware, blog, digital fabrication, osho, gandhi, etc</h3>
		<img class="image" src="images/4.jpg">
		</hr>
		</div>
	</div>
		<script>
		var windowHeight
			$(window).resize(function(){
				windowHeight=$(this).height();
				console.log(windowHeight);
			});
			/*windowHeight=$(document).height();
			console.log(windowHeight);*/

			$(".box").each(function(index){
				//console.log(index);
				$(this).css("background-color","green");
				var w=$(this).children('img').width();
				var h=$(this).children('img').height();
				$(this).children('img').css("height","0px");

				var newHeight=500;
				var newWidth=500*(w/h);
				//console.log(newHeight);
				//console.log(newWidth);
				//console.log('next');
				$(this).css({
					width:newWidth,
					height:newHeight
				});
				$(this).children('img').css({
					height:newHeight,
					width:newWidth
				});
				var url=$(this).children('img').attr('src');
				$(this).css("background-image",'url('+url+')');
				$(this).css("background-repeat",'no-repeat');
				$(this).css("background-size",''+newWidth+'px '+newHeight+'px');
				$(this).children('img').css("height","0px");
			});
		</script>
	</div>
</body>